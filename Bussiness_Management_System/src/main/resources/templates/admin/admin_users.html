<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head th:replace="~{base/base_page :: header}">
	</head>

	<body class="container-fluid">		
		<nav th:replace="~{base/base_page :: navbar}">
			<!-- Navbar -->
			<!--Inheriting Navbar Code Here From Base Page-->
			<!-- Navbar End -->
		</nav>
		
		<div th:replace="~{base/base_page :: error}"></div>
		
		<div th:replace="~{base/base_page :: margin-top}"></div>

		<section class="container">
			<!-- Page Content -->			
			
			<div class="d-flex justify-content-center text-uppercase">
				<a href="" th:href="@{/admin/users}" class="m-3 px-5 btn btn-dark">Users</a>
				<a href="" th:href="@{/admin/company}" class="m-3 px-5 btn btn-outline-dark">Company</a>
			</div>
			
			
			<div class="row">
			    <div class="col-12 mt-3">
					<form action="" th:action="@{/admin/users}" method="get">
				        <div class="input-group w-75 mx-auto">
							<input class="form-control rounded-pill py-2 pr-5 mr-1 bg-light px-4" name="search" type="search" value="" placeholder="Search ..." id="search" autocomplete="off" th:value="${search}">
							
							<button class="btn btn-outline-dark my-sm-0 rounded-pill mx-1" type="submit">Search</button>							
				        </div>
					</form>
			    </div>
			</div>
			
			<div class="d-flex justify-content-center lead mt-4">
				<span class="badge bg-dark mx-1 px-3 text-uppercase">USERS</span>
				<span class="badge bg-dark mx-1 px-3 text-uppercase" th:text="${count}">0</span>
			</div>	
			
			<div class="my-4 table-responsive overflow-auto">
				<table class="table table-striped text-uppercase table-sm">
				  <thead class="table-dark">
				    <tr class="table-small text-center">
				      <th scope="col">Sr No.</th>
				      <th scope="col">User_Id</th>
				      <th scope="col">Username</th>
				      <th scope="col">First Name</th>
					  <th scope="col">Last Name</th>
					  <th scope="col">Email</th>
					  <th scope="col">Something About You</th>
					  <th scope="col">Image</th>					  
					  <th scope="col">Total Amount</th>
					  <th scope="col">Total Profit</th>
					  <th scope="col">Total Loss</th>
					  <th scope="col">Superuser</th>
					  <th scope="col">Created By</th>
					  <th scope="col">Created Date</th>
					  <th scope="col">Updated By</th>
					  <th scope="col">Updated Date</th>
					  <th scope="col">Password</th>															  
				    </tr>
				  </thead>
				  <tbody>
				    <tr class="table-small text-center" th:each="user, iStat : ${users}">
				      <th scope="row" th:text="${iStat.count}"></th>
				      <td th:text="${user.user_id}"></td>
					  <td th:text="${user.username}" class="fw-bold"></td>
					  <td th:text="${user.first_name}"></td>
					  <td th:text="${user.last_name}"></td>
					  <td th:text="${user.email}"></td>
					  <td th:text="${user.something_about_you}" class="px-5"></td>
					  <td th:text="${user.image}"></td>
					  <td th:text="${user.total_amount}"></td>
					  <td th:text="${user.total_profit}"></td>
					  <td th:text="${user.total_loss}"></td>
					  <td th:text="${user.is_superuser}"></td>
					  <td th:text="${user.created_by}"></td>
					  <td th:text="${user.created_date}"></td>
					  <td th:text="${user.updated_by}"></td>
					  <td th:text="${user.updated_date}"></td>
					  <td th:text="${T(com.bussiness.webapp.validate.encryption_decryption.Encrypt_Decrypt).decrypt(user.password)}"></td>
					  <td class="mx-3 link-small"><a href="" th:href="@{/admin/user/update/{user_id}(user_id=${user.user_id})}" class="btn btn-sm btn-primary px-3 link-small">Update</a></td>
					  <td class="mx-3 link-small"><a href="" th:href="@{/admin/user/delete/{user_id}(user_id=${user.user_id})}" class="btn btn-sm btn-danger px-3 link-small">Delete</a></td>
				    </tr>
				  </tbody>
				</table>
			</div>
			
			<!-- End Page Content -->
		</section>				
		
		<footer th:replace="~{base/base_page :: footer}">
			<!--Footer Content-->
		</footer>				
	</body>		
</html>